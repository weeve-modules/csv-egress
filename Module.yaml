version: 1.0.0
name: CSV Export
description: Module collects incoming data and stores it to CSV files splitted by its size or number of rows.
icon: https://icons-020-demo.s3.eu-central-1.amazonaws.com/mi_CSV_Output.png
type: output
tags:
  - csv
categories:
  - id: category
    name: Egress
image:
  name: weevenetwork/csv-export
  tag: latest
environments:
  - key:  FILENAME
    description: Name of the file to write to without file extension (.csv)
    value: ''
    default: 'export'
    type: string
    name: Filename
  - key: INCLUDE_TIMESTAMP
    description: Add column timestamp if it's not available
    value: ''
    default: true
    type: enum
    options:
      - true
      - false
  - key:  SPLIT_TYPE
    description: Limit file by number of rows or size
    value: ''
    default: size
    type: enum
    options:
      - size
      - rows
  - key:  SPLIT_SIZE
    description: Limit size of the file
    value: ''
    default: 1024
    type: integer
    name: File size
  - key:  DELIMITER
    description: Delimiter for columns
    value: ''
    default: comma
    type: enum
    options:
      - comma
      - tab
      - semicolon
commands: []
mounts:
  - container: '/csv-export'
    host: '/csv-export'  
document:
  ports: []
  volumes: []
  restart_policy:
    condition: on-failure
    delay: 10s
    max_attempts: 3
    window: 120s
